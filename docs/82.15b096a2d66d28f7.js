"use strict";(self.webpackChunkgamestudio_refactor=self.webpackChunkgamestudio_refactor||[]).push([[82],{82:(te,v,d)=>{d.r(v),d.d(v,{Tetris2Module:()=>ee});var x=d(782),u=(()=>{return(o=u||(u={})).LEFT="left",o.RIGHT="right",o.DOWN="down",u;var o})();const f=[{name:"I",shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],blockNumber:1},{name:"J",shape:[[1,0,0],[1,1,1],[0,0,0]],blockNumber:2},{name:"L",shape:[[0,0,1],[1,1,1],[0,0,0]],blockNumber:3},{name:"O",shape:[[1,1],[1,1]],blockNumber:4},{name:"S",shape:[[0,1,1],[1,1,0],[0,0,0]],blockNumber:5},{name:"Z",shape:[[1,1,0],[0,1,1],[0,0,0]],blockNumber:6},{name:"T",shape:[[0,1,0],[1,1,1],[0,0,0]],blockNumber:7}];var e=d(256);function w(o,i,t,r,n,s,a){try{var c=o[s](a),l=c.value}catch(m){return void t(m)}c.done?i(l):Promise.resolve(l).then(r,n)}function _(o){return function(){var i=this,t=arguments;return new Promise(function(r,n){var s=o.apply(i,t);function a(l){w(s,r,n,a,c,"next",l)}function c(l){w(s,r,n,a,c,"throw",l)}a(void 0)})}}class P{constructor(i,t=!1){this.name=i,this.shape=f.find(r=>r.name===i).shape,this.IRotated=t}rotate(){if("I"===this.name&&!this.IRotated)return this.shape=[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],void(this.IRotated=!0);if("I"===this.name&&this.IRotated)return this.shape=[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],void(this.IRotated=!1);let r=Array.from({length:this.shape.length},()=>Array(this.shape.length).fill(0));for(let n=0;n<this.shape.length;n++)for(let s=0;s<this.shape[n].length;s++)r[s][this.shape[n].length-1-n]=this.shape[n][s];this.shape=r}}var y=d(579),k=d(900),G=d(727);class A extends G.w0{constructor(i,t){super()}schedule(i,t=0){return this}}const b={setInterval(o,i,...t){const{delegate:r}=b;return r?.setInterval?r.setInterval(o,i,...t):setInterval(o,i,...t)},clearInterval(o){const{delegate:i}=b;return(i?.clearInterval||clearInterval)(o)},delegate:void 0};var N=d(737);const O={now:()=>(O.delegate||Date).now(),delegate:void 0};class T{constructor(i,t=T.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,r){return new this.schedulerActionCtor(this,i).schedule(r,t)}}T.now=O.now;const M=new class I extends T{constructor(i,t=T.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let r;this._active=!0;do{if(r=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,r){for(;i=t.shift();)i.unsubscribe();throw r}}}(class Z extends A{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var r;if(this.closed)return this;this.state=i;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(i,t,r=0){return b.setInterval(i.flush.bind(i,this),r)}recycleAsyncId(i,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&b.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(i,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let n,r=!1;try{this.work(i)}catch(s){r=!0,n=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(r,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}),D=M;var F=d(751),q=d(532);var U=d(529);let E=(()=>{class o{constructor(){this.gameLoopSubscription=null,this.gameStarted=!1,this.gamePaused=!1,this.gameOver=!1,this.DEFAULT_X_POSITION=4,this.DEFAULT_Y_POSITION=0,this.gameSpeed=400,this.MAX_GAME_SPEED=100,this.MIN_GAME_SPEED=1e3,this.score=0,this.scoreMultiplier=1,this.lastScore=0,this.debugMode=!1,this.currentPosition={x:this.DEFAULT_X_POSITION,y:this.DEFAULT_Y_POSITION},this.generateGrid(),this.debug(),this.TetrominoQueue=[],this.gameLoop$=new y.x}getGameStarted(){return this.gameStarted}getGameSpeed(){return this.gameSpeed}increaseGameSpeed(){!this.gameStarted&&this.gameSpeed>this.MAX_GAME_SPEED&&(this.gameSpeed-=100)}decreaseGameSpeed(){!this.gameStarted&&this.gameSpeed<this.MIN_GAME_SPEED&&(this.gameSpeed+=100)}startGame(){this.addRandomTetrominoToQueue(),this.addRandomTetrominoToQueue(),this.addRandomTetrominoToQueue()}setRandomTetromino(){this.currentTetromino=this.getRandomTetromino()}setTetrominoFromQueue(){this.currentTetromino=this.getTetrominoFromQueue()}getTetrominoFromQueue(){return this.TetrominoQueue.shift()}addRandomTetrominoToQueue(){this.TetrominoQueue.push(this.getRandomTetromino())}spawnNewTetrominoFromQueue(){this.setTetrominoFromQueue(),this.resetPosition(),this.refreshCurrentTetromino(),this.addRandomTetrominoToQueue()}getTetrominoQueue(){return this.TetrominoQueue}getTetrominoNumber(t){return f.find(r=>r.name===t).blockNumber}getPaused(){return this.gamePaused}generateGrid(){this.grid=[];for(let t=0;t<20;t++){this.grid.push([]);for(let r=0;r<10;r++)this.grid[t].push({value:0,placed:!1})}}resetGrid(){for(let t=0;t<20;t++)for(let r=0;r<10;r++)this.grid[t][r].value=0,this.grid[t][r].placed=!1}getRandomTetromino(){let t=f[Math.floor(Math.random()*f.length)].name;return new P(t)}refreshCurrentTetromino(){for(let t=0;t<this.currentTetromino.shape.length;t++)for(let r=0;r<this.currentTetromino.shape[t].length;r++)0!==this.currentTetromino.shape[t][r]&&(this.grid[this.currentPosition.y+t][this.currentPosition.x+r].placed&&(this.gameOver=!0),this.grid[this.currentPosition.y+t][this.currentPosition.x+r].value=f.find(n=>n.name===this.currentTetromino.name).blockNumber)}refreshPlaceAndSpawnNew(){this.placeCurrentTetromino(),this.spawnNewTetrominoFromQueue()}moveCurrentTetromino(t){if(!this.gameOver&&this.canMove(t)){switch(this.clearCurrentTetromino(),t){case u.LEFT:this.currentPosition.x--;break;case u.RIGHT:this.currentPosition.x++;break;case u.DOWN:this.currentPosition.y++}this.refreshCurrentTetromino()}}canMove(t){for(let n=0;n<this.currentTetromino.shape.length;n++)for(let s=0;s<this.currentTetromino.shape[n].length;s++)if(this.currentTetromino.shape[n][s]>0){let c,l;switch(t){case u.LEFT:c=this.currentPosition.x+s<=0,l={x:this.currentPosition.x+s-1,y:this.currentPosition.y+n};break;case u.RIGHT:c=this.currentPosition.x+s>=this.grid[0].length-1,l={x:this.currentPosition.x+s+1,y:this.currentPosition.y+n};break;case u.DOWN:c=this.currentPosition.y+n>=this.grid.length-1,l={x:this.currentPosition.x+s,y:this.currentPosition.y+n+1}}if(c||this.grid[l.y][l.x].value>0&&this.grid[l.y][l.x].placed)return!1}return!0}getTetrominoColumns(){let t=[];if(void 0===this.currentTetromino)return t;let r=this.currentTetromino.shape.length,n=this.currentPosition.x;for(let s=0;s<r;s++)for(let a=0;a<r;a++)0!==this.currentTetromino.shape[s][a]&&t.push(n+a);return t}hardDrop(){for(;this.canMove(u.DOWN);)this.moveCurrentTetromino(u.DOWN)}spawnNewRandomTetromino(){this.setRandomTetromino(),this.resetPosition(),this.refreshCurrentTetromino()}rotateCurrentTetromino(){let t=new P(this.currentTetromino.name,this.currentTetromino.IRotated);t.shape=this.currentTetromino.shape,t.rotate(),this.isCollision(t)||(this.clearCurrentTetromino(),this.currentTetromino.rotate(),this.refreshCurrentTetromino())}isCollision(t){for(let r=0;r<t.shape.length;r++)for(let n=0;n<t.shape[r].length;n++)if(0!==t.shape[r][n]&&(this.currentPosition.x+n<0||this.currentPosition.x+n>9||this.currentPosition.y+r<0||this.currentPosition.y+r>19||this.grid[this.currentPosition.y+r][this.currentPosition.x+n].placed))return!0;return!1}clearCurrentTetromino(){for(let t=0;t<this.currentTetromino.shape.length;t++)for(let r=0;r<this.currentTetromino.shape[t].length;r++)0!==this.currentTetromino.shape[t][r]&&(this.grid[this.currentPosition.y+t][this.currentPosition.x+r].value=0)}choseAndPlaceTetromino(t){this.clearCurrentTetromino(),this.currentTetromino.shape=f.find(r=>r.name===t).shape,this.currentTetromino.name=t,this.resetPosition(),this.refreshCurrentTetromino()}placeCurrentTetromino(){this.currentTetromino.shape.map((t,r)=>{t.map((n,s)=>{0!==n&&(this.grid[this.currentPosition.y+r][this.currentPosition.x+s].placed=!0)})})}checkCompletedRowsAndClear3(){var t=this;return _(function*(){return new Promise((r,n)=>{setTimeout(()=>{let s=0;for(let a=0;a<t.grid.length;a++){let c=t.grid.length-1-a,l=t.grid[c].every(p=>p.placed),m=t.grid[c].every(p=>!p.placed);if(l&&(t.grid[c].map(p=>{p.placed=!1,p.value=0}),s++),m)break}r(s)},100)})})()}fallRows3(t){var r=this;return _(function*(){return new Promise((n,s)=>{setTimeout(()=>{for(let a=0;a<r.grid.length-1;a++){let c=r.grid.length-1-a,l=r.grid.length-2-a,m=r.grid[c].every(h=>!h.placed),p=r.grid[l].some(h=>h.placed);m&&p&&(r.grid[c+t-1].forEach((h,g)=>{h.placed=r.grid[l][g].placed,h.value=r.grid[l][g].value}),r.grid[l].map(h=>{h.placed=!1,h.value=0}))}},100),n()})})()}checkCompletedRowsAndClear(){var t=this;return _(function*(){return new Promise((r,n)=>{setTimeout(()=>{let s=-1,a=0;for(let l=0;l<t.grid.length;l++){let m=t.grid.length-1-l,p=t.grid[m].every(g=>g.placed),h=t.grid[m].every(g=>!g.placed);if(p&&(t.grid[m].map(g=>{g.placed=!1,g.value=0}),-1===s&&(s=m),a++),h)break}const c=a*a*t.scoreMultiplier*10;t.score+=c,t.lastScore=c,console.log("score+: ",c),t.scoreMultiplier=0===a?1:t.scoreMultiplier+1,r(s)},100)})})()}fallRows(t){var r=this;return _(function*(){return new Promise((n,s)=>{setTimeout(()=>{for(let a=t;a>-1;a--)r.grid[a].some(c=>c.placed)&&(r.grid[t]=r.grid[a].map(c=>({...c,placed:c.placed,value:c.value})),r.grid[a]=r.grid[a].map(c=>({...c,placed:!1,value:0})),t--)},100),n()})})()}debug(){for(let t=0;t<9;t++)this.grid[19][t].placed=!0,this.grid[19][t].value=1,this.grid[18][t].placed=!0,this.grid[18][t].value=1,this.grid[17][t].placed=!0,this.grid[17][t].value=1,this.grid[16][t].placed=!0,this.grid[16][t].value=1;this.grid[15][1].placed=!0,this.grid[15][1].value=1,this.grid[17][1].placed=!1,this.grid[17][1].value=0,this.grid[19][1].placed=!1,this.grid[19][1].value=0}resetPosition(){this.currentPosition={x:this.DEFAULT_X_POSITION,y:this.DEFAULT_Y_POSITION},"I"===this.currentTetromino.name&&(this.currentPosition={x:this.DEFAULT_X_POSITION-1,y:this.DEFAULT_Y_POSITION-1})}startMainGameLoop(){var t=this;this.gameStarted||(this.startGame(),console.log(this.TetrominoQueue),this.spawnNewTetrominoFromQueue(),this.gameStarted=!0,this.gamePaused=!1,this.gameLoopSubscription=this.gameLoop$.pipe((0,k.w)(()=>function Q(o=0,i=M){return o<0&&(o=0),function R(o=0,i,t=D){let r=-1;return null!=i&&((0,q.K)(i)?t=i:r=i),new F.y(n=>{let s=function J(o){return o instanceof Date&&!isNaN(o)}(o)?+o-t.now():o;s<0&&(s=0);let a=0;return t.schedule(function(){n.closed||(n.next(a++),0<=r?this.schedule(void 0,r):n.complete())},s)})}(o,o,i)}(this.gameSpeed).pipe((0,U.o)(()=>!this.gameOver&&!this.gamePaused)))).subscribe(_(function*(){if(t.canMove(u.DOWN))t.moveCurrentTetromino(u.DOWN);else{t.refreshPlaceAndSpawnNew();const r=yield t.checkCompletedRowsAndClear();r>0&&(yield t.fallRows(r))}})),this.gameLoop$.next())}pauseOrResumeGame(){this.gamePaused=!this.gamePaused,this.gamePaused||this.gameLoop$.next(),console.log("Rows:"+this.getTetrominoColumns())}resetGame(){this.gameStarted=!1,this.gameOver=!1,this.gamePaused=!1,this.gameLoopSubscription?.unsubscribe(),this.gameLoop$=new y.x,this.TetrominoQueue=[],this.score=0,this.scoreMultiplier=1,this.lastScore=0,this.resetGrid()}ngOnDestroy(){this.gameLoopSubscription?.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var C=d(895);function L(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rotate())}),e._uU(2,"rotate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.lock())}),e._uU(4,"lock"),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clear())}),e._uU(6,"clear"),e.qZA(),e.TgZ(7,"div",21)(8,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.replaceCurrentTetromino("I"))}),e._uU(9,"I"),e.qZA(),e.TgZ(10,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.replaceCurrentTetromino("J"))}),e._uU(11,"J"),e.qZA(),e.TgZ(12,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.replaceCurrentTetromino("L"))}),e._uU(13,"L"),e.qZA(),e.TgZ(14,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.replaceCurrentTetromino("O"))}),e._uU(15,"O"),e.qZA(),e.TgZ(16,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.replaceCurrentTetromino("S"))}),e._uU(17,"S"),e.qZA(),e.TgZ(18,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.replaceCurrentTetromino("Z"))}),e._uU(19,"Z"),e.qZA(),e.TgZ(20,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.replaceCurrentTetromino("T"))}),e._uU(21,"T"),e.qZA()()()}}function j(o,i){if(1&o&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("+",t.getLastScore(),"")}}function H(o,i){if(1&o&&e._UZ(0,"div",26),2&o){const t=i.$implicit,r=e.oxw(2).$implicit,n=e.oxw();e.Q6J("ngClass",n.getQueueCellClass(r.name,t))}}function K(o,i){if(1&o&&(e.TgZ(0,"div",24),e.YNc(1,H,1,1,"div",25),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function Y(o,i){if(1&o&&(e.TgZ(0,"div",22),e.YNc(1,K,2,1,"div",23),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t.shape)}}function $(o,i){if(1&o&&(e.TgZ(0,"div",27)(1,"p"),e._uU(2,"COMBO"),e.qZA(),e.TgZ(3,"h2"),e._uU(4),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.hij("",t.getScoreMultiplier(),"X")}}const B=function(o,i,t){return{current:o,placed:i,highLighted:t}};function z(o,i){if(1&o&&e._UZ(0,"div",30),2&o){const t=i.$implicit,r=i.index,n=e.oxw(2);e.Gre("tetris-cell cell-",t.value,""),e.Q6J("ngClass",e.kEZ(4,B,!t.placed&&t.value>0,t.placed,n.isHighLighted(t,r)))}}function V(o,i){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,z,1,8,"div",29),e.qZA()),2&o){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const W=function(o){return{"btn-pressed":o}},S=function(o){return{hidden:o}},X=[{path:"",component:(()=>{class o{constructor(t){this.tetris2Service=t,this.grid=this.tetris2Service.grid,this.speedDisplay=""}ngOnInit(){this.setSpeedDisplay()}isGameStarted(){return this.tetris2Service.getGameStarted()}rotate(){this.tetris2Service.rotateCurrentTetromino()}addSpeed(){this.tetris2Service.increaseGameSpeed(),this.setSpeedDisplay()}removeSpeed(){this.tetris2Service.decreaseGameSpeed(),this.setSpeedDisplay()}setSpeedDisplay(){let r=11-this.tetris2Service.getGameSpeed()/100;this.speedDisplay=r.toString().padStart(2,"0")}replaceCurrentTetromino(t){this.tetris2Service.choseAndPlaceTetromino(t)}move(t){switch(t){case"left":this.tetris2Service.moveCurrentTetromino(u.LEFT);break;case"right":this.tetris2Service.moveCurrentTetromino(u.RIGHT);break;case"down":this.tetris2Service.hardDrop()}}lock(){this.tetris2Service.placeCurrentTetromino(),this.tetris2Service.spawnNewRandomTetromino()}clear(){this.tetris2Service.checkCompletedRowsAndClear()}start(){this.tetris2Service.startMainGameLoop()}pause(){this.tetris2Service.pauseOrResumeGame()}reset(){this.tetris2Service.resetGame()}getPaused(){return this.tetris2Service.getPaused()}getPausedText(){return this.getPaused()?"play_arrow":"pause"}getQueue(){return this.tetris2Service.getTetrominoQueue()}getTetrominoNumber(t){return this.tetris2Service.getTetrominoNumber(t)}getQueueCellClass(t,r){return r>0?`cell-${this.tetris2Service.getTetrominoNumber(t)}`:""}isHighLighted(t,r){let n=this.tetris2Service.getTetrominoColumns();return!t.placed&&n.includes(r)&&0==t.value}getScore(){return this.tetris2Service.score}getScoreMultiplier(){return this.tetris2Service.scoreMultiplier}getLastScore(){return this.tetris2Service.lastScore}getDebugMode(){return this.tetris2Service.debugMode}onRightClick(t){t.preventDefault()}handleKeyDown(t){switch(t.key){case"ArrowRight":case"d":this.move("right");break;case"ArrowLeft":case"a":this.move("left");break;case"ArrowDown":case"s":this.move("down");break;case"ArrowUp":case"w":this.rotate()}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-Tetris2-game"]],hostBindings:function(t,r){1&t&&e.NdJ("contextmenu",function(s){return r.onRightClick(s)})("keydown",function(s){return r.handleKeyDown(s)},!1,e.Jf7)},decls:44,vars:17,consts:[[1,"main-wrapper"],["class","box",4,"ngif"],[1,"box","score"],[1,"box-row"],[1,"btn-field",3,"click"],[1,"btn-field",3,"ngClass","click"],[1,"material-icons"],[1,"status-item"],[1,"box-text"],[1,"box-numb"],[4,"ngIf"],[1,"box","queue"],["class","queue-item",4,"ngFor","ngForOf"],[1,"tetris-container"],["class","multiplier",4,"ngIf"],["class","tetris-row",4,"ngFor","ngForOf"],[1,"controls"],[1,"rotate-button"],[3,"click"],[1,"control-buttons"],[1,"box"],[1,"test-btns"],[1,"queue-item"],["class","queue-row",4,"ngFor","ngForOf"],[1,"queue-row"],["class","queue-cell ",3,"ngClass",4,"ngFor","ngForOf"],[1,"queue-cell",3,"ngClass"],[1,"multiplier"],[1,"tetris-row"],[3,"class","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.YNc(1,L,22,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return r.start()}),e._uU(5,"start"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return r.pause()}),e.TgZ(7,"i",6),e._uU(8),e.qZA()(),e.TgZ(9,"button",4),e.NdJ("click",function(){return r.reset()}),e._uU(10,"reset"),e.qZA()(),e.TgZ(11,"div",7)(12,"span",8),e._uU(13,"Score"),e.qZA(),e.TgZ(14,"span",9),e._uU(15),e.YNc(16,j,2,1,"h2",10),e.qZA()(),e.TgZ(17,"div",3)(18,"button",5),e.NdJ("click",function(){return r.addSpeed()}),e._uU(19,"+"),e.qZA(),e.TgZ(20,"button",5),e.NdJ("click",function(){return r.removeSpeed()}),e._uU(21,"-"),e.qZA(),e.TgZ(22,"span",9),e._uU(23),e.qZA()()(),e.TgZ(24,"div",11),e.YNc(25,Y,2,1,"div",12),e.qZA(),e.TgZ(26,"div",13),e.YNc(27,$,5,1,"div",14),e.YNc(28,V,2,1,"div",15),e.qZA(),e.TgZ(29,"div",16)(30,"div",17)(31,"button",18),e.NdJ("click",function(){return r.rotate()}),e.TgZ(32,"i",6),e._uU(33,"rotate_90_degrees_cw"),e.qZA()()(),e.TgZ(34,"div",19)(35,"button",18),e.NdJ("click",function(){return r.move("left")}),e.TgZ(36,"i",6),e._uU(37,"keyboard_arrow_left"),e.qZA()(),e.TgZ(38,"button",18),e.NdJ("click",function(){return r.move("down")}),e.TgZ(39,"i",6),e._uU(40,"keyboard_arrow_down"),e.qZA()(),e.TgZ(41,"button",18),e.NdJ("click",function(){return r.move("right")}),e.TgZ(42,"i",6),e._uU(43,"keyboard_arrow_right"),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngif",r.getDebugMode()),e.xp6(5),e.Q6J("ngClass",e.VKq(11,W,r.getPaused())),e.xp6(2),e.Oqu(r.getPausedText()),e.xp6(7),e.hij("",r.getScore()," "),e.xp6(1),e.Q6J("ngIf",r.getLastScore()>0),e.xp6(2),e.Q6J("ngClass",e.VKq(13,S,r.isGameStarted())),e.xp6(2),e.Q6J("ngClass",e.VKq(15,S,r.isGameStarted())),e.xp6(3),e.hij("speed: ",r.speedDisplay,""),e.xp6(2),e.Q6J("ngForOf",r.getQueue()),e.xp6(2),e.Q6J("ngIf",r.getScoreMultiplier()>1),e.xp6(1),e.Q6J("ngForOf",r.grid))},dependencies:[C.mk,C.sg,C.O5],styles:['.box[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;align-items:center;grid-gap:30px;padding:15px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#141414;box-shadow:0 0 5px 3px #191919;border:1px solid rgb(49,49,49);color:#ee8f00;border-radius:6px;-webkit-user-select:none;user-select:none;margin:auto;min-width:520px;justify-content:space-between}.box-title[_ngcontent-%COMP%]{text-align:center;justify-content:center}.box-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 25px 23px 23px;gap:4px;align-items:center}.box-row[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;justify-content:center;gap:4px}.box-numb[_ngcontent-%COMP%]{text-align:right;color:#fff;background-color:#282727;border:1px solid rgb(86,56,22);border-radius:4px;padding:2px}.status-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px;gap:4px;align-items:center}.btn-field[_ngcontent-%COMP%]{background-color:#303030;border:1px solid rgb(96,96,96);border-radius:4px;padding:4px;min-width:25px;width:-moz-fit-content;width:fit-content;color:#ee8f00;transition:90ms;-webkit-user-select:none;user-select:none}.btn-field[_ngcontent-%COMP%]:hover{filter:brightness(1.2);transform:scale(1.2);cursor:pointer}.btn-pressed[_ngcontent-%COMP%]{filter:brightness(1.2);transform:scale(1.2)}@media (max-width: 728px){.box[_ngcontent-%COMP%]{grid-auto-flow:row;justify-content:center;gap:10px;justify-self:stretch;min-width:auto;width:90%}}.tetris-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;-webkit-user-select:none;user-select:none}.multiplier[_ngcontent-%COMP%]{z-index:10;position:absolute;color:#ff69b4;top:5px;right:5px;display:grid;justify-items:center;align-content:center;width:80px;height:80px;border:3px solid hotpink;border-radius:6px;opacity:.5}.controls[_ngcontent-%COMP%]{position:absolute;top:480px;left:0;width:100%;padding:0 20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#fff3;transform:scale(.9)}.control-buttons[_ngcontent-%COMP%]{width:100%;height:140px;display:grid;grid-template-columns:1fr 20% 1fr;gap:20px;opacity:.2}.rotate-button[_ngcontent-%COMP%]{height:200px;display:grid;grid-template-columns:1fr 20% 1fr;gap:20px;opacity:.2;display:none;margin-bottom:20px}.control-buttons[_ngcontent-%COMP%]{height:140px;display:grid;grid-template-columns:1fr 20% 1fr;gap:20px;opacity:.2;display:none}.control-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .rotate-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:2px solid gray;border-radius:8px}.control-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .rotate-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:4rem}.rotate-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;width:200px}.tetris-row[_ngcontent-%COMP%]{display:flex}.tetris-cell[_ngcontent-%COMP%]{position:relative;width:30px;height:30px;border:1px solid rgb(58,58,58);border-radius:4px}.cell-1[_ngcontent-%COMP%]{background-color:#35a1e5}.cell-2[_ngcontent-%COMP%]{background-color:#269146}.cell-3[_ngcontent-%COMP%]{background-color:#ff423e}.cell-4[_ngcontent-%COMP%]{background-color:#ffc637}.cell-5[_ngcontent-%COMP%]{background-color:#d42d91}.cell-6[_ngcontent-%COMP%]{background-color:#c92cfd}.cell-7[_ngcontent-%COMP%]{background-color:#40c292}.current[_ngcontent-%COMP%]{border:4px solid white}.placed[_ngcontent-%COMP%]{border:none;border-bottom:3px solid rgba(115,189,101,.379);border-left:3px solid rgba(199,129,129,.466)}.highLighted[_ngcontent-%COMP%]{background-color:#ffffff0b}.current[_ngcontent-%COMP%]:before, .placed[_ngcontent-%COMP%]:before{content:"";display:block;width:50%;height:50%;border-radius:4px;background-color:#ffffff16}.current[_ngcontent-%COMP%]:after, .placed[_ngcontent-%COMP%]:after{content:"";position:absolute;width:70%;height:70%;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:4px;border:3px solid rgba(250,250,250,.147)}.test-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:2rem;font-family:Courier New,Courier,monospace}.queue-cell[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:2px}.queue[_ngcontent-%COMP%]{justify-content:center;padding:5px;gap:22px;height:120px;min-width:300px}.queue-row[_ngcontent-%COMP%]{display:flex}.queue-item[_ngcontent-%COMP%]{width:70px;height:70px;justify-content:center;align-content:center;display:grid;border:1px dotted orange;transition:.2s}.queue-item[_ngcontent-%COMP%]:first-child{border:3px solid orange;transform:scale(1.2)}.queue-item[_ngcontent-%COMP%]:last-child{border:1px dotted orange;transform:scale(.8)}.score[_ngcontent-%COMP%]{justify-content:center}.status-item[_ngcontent-%COMP%]{grid-template-columns:1fr 130px}.box-numb[_ngcontent-%COMP%]{position:relative}.box-numb[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:105%;transform:translateY(-50%);font-size:2rem;font-family:Courier New,Courier,monospace}.hidden[_ngcontent-%COMP%]{opacity:0;-webkit-user-select:none;user-select:none;pointer-events:none}@media (max-width: 728px){.queue[_ngcontent-%COMP%]{grid-auto-flow:column;gap:22px}.box[_ngcontent-%COMP%]{grid-auto-flow:column;scale:.8}.main-wrapper[_ngcontent-%COMP%]{gap:0}.tetris-container[_ngcontent-%COMP%]{margin-left:20%}.tetris-cell[_ngcontent-%COMP%]{width:20px;height:20px}.control-buttons[_ngcontent-%COMP%], .rotate-button[_ngcontent-%COMP%]{display:grid}}']}),o})()}];let ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.Bz.forChild(X),x.Bz]}),o})()}}]);